<!-- /index.html -->
<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ravi Satyappa Dabbanavar ‚Äî Scholar Website</title>
  <meta name="description" content="Personal academic website of Ravi Satyappa Dabbanavar, Ph.D. Scholar at IIT Roorkee: research, publications, projects, teaching, and contact." />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://<your-username>.github.io/" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#0b0c0f">

  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üéì</text></svg>">

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="Ravi Satyappa Dabbanavar ‚Äî Scholar Website" />
  <meta property="og:site_name" content="Ravi Satyappa Dabbanavar" />
  <meta property="og:description" content="Research ‚Ä¢ Publications ‚Ä¢ Projects ‚Ä¢ Teaching" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://<your-username>.github.io/" />
  <!-- ‚úÖ Updated preview image to your own photo -->
  <meta property="og:image" content="https://<your-username>.github.io/assets/profile.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="https://<your-username>.github.io/assets/profile.jpg" />

  <style>
    :root {
      --bg: #0b0c0f;
      --text: #e6e6e6;
      --muted: #b3b3b3;
      --card: #12141a;
      --accent: #4da3ff;
      --accent-contrast: #001a33;
      --border: #2a2f3a;
      --link: #7db6ff;
      --focus: #7db6ff;
    }
    html[data-theme="light"] {
      --bg: #ffffff;
      --text: #111318;
      --muted: #4b5563;
      --card: #f5f7fb;
      --accent: #2563eb;
      --accent-contrast: #e8f0ff;
      --border: #e5e7eb;
      --link: #1d4ed8;
      --focus: #1d4ed8;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font: 400 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    a { color: var(--link); text-decoration: none; }
    a:hover { text-decoration: underline; }
    :focus-visible {
      outline: 2px dashed var(--focus);
      outline-offset: 3px;
      border-radius: 6px;
    }

    .container { width: min(1100px, 92%); margin-inline: auto; }
    .stack { display: grid; gap: 1rem; }

    .skip-link { position: absolute; left: -1000px; top: -1000px; }
    .skip-link:focus-visible {
      left: 1rem; top: 1rem; background: var(--accent); color: #fff;
      padding: .5rem .75rem; border-radius: .5rem;
    }

    header {
      position: sticky; top: 0; z-index: 50;
      backdrop-filter: saturate(180%) blur(8px);
      background: color-mix(in oklab, var(--bg) 85%, transparent);
      border-bottom: 1px solid var(--border);
    }
    .nav { display: flex; align-items: center; justify-content: space-between; padding: .75rem 0; }
    .brand { display: flex; align-items: center; gap: .6rem; font-weight: 700; }
    .brand img { width: 28px; height: 28px; border-radius: 50%; }
    .nav a { font-weight: 600; }
    .nav-links { display: flex; gap: 1rem; align-items: center; flex-wrap: wrap; }
    .nav-links a { padding: .4rem .6rem; border-radius: .5rem; }
    .nav-links a:hover { background: var(--card); text-decoration: none; }
    .nav-links a[aria-current="true"] { outline: 2px solid var(--border); }
    .theme-btn {
      border: 1px solid var(--border); background: var(--card); color: var(--text);
      padding: .4rem .6rem; border-radius: .5rem; cursor: pointer; font-weight: 600;
    }

    .hero { padding: 3rem 0 2rem; }
    .hero-inner { display: grid; grid-template-columns: 140px 1fr; gap: 1.2rem; align-items: center; }
    .avatar { width: 140px; height: 140px; border-radius: 1rem; object-fit: cover; border: 1px solid var(--border); }
    h1 { font-size: clamp(1.8rem, 1.2rem + 2.6vw, 3rem); margin: 0; }
    .subtitle { color: var(--muted); margin-top: .25rem; }
    .actions { display: flex; gap: .6rem; flex-wrap: wrap; margin-top: .9rem; }
    .btn {
      display: inline-flex; align-items: center; gap: .5rem; border: 1px solid var(--border);
      background: var(--card); color: var(--text); padding: .55rem .8rem; border-radius: .6rem; font-weight: 600;
      transition: transform .2s ease;
    }
    .btn.primary { background: var(--accent); color: #fff; border-color: color-mix(in oklab, var(--accent) 60%, black); }
    .btn:hover { text-decoration: none; transform: translateY(-1px); }

    section { padding: 2rem 0; }
    section + section { border-top: 1px dashed var(--border); }
    .section-title { font-size: 1.4rem; margin: 0 0 1rem; }
    .muted { color: var(--muted); }

    .grid { display: grid; gap: 1rem; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }
    .card { background: var(--card); border: 1px solid var(--border); border-radius: 1rem; padding: 1rem; }
    .card h3 { margin: 0 0 .5rem; font-size: 1.05rem; }
    .meta { font-size: .9rem; color: var(--muted); }

    .pub-toolbar { display: flex; gap: .75rem; align-items: center; flex-wrap: wrap; margin-bottom: .75rem; }
    .search { width: min(420px, 100%); border: 1px solid var(--border); background: var(--bg); color: var(--text); padding: .55rem .7rem; border-radius: .6rem; }
    .pub-list { list-style: none; padding: 0; margin: 0; }
    .pub-item { padding: .8rem; border: 1px solid var(--border); border-radius: .8rem; margin-bottom: .6rem; background: var(--card); }
    .pub-item .title { font-weight: 650; }
    .pub-item .authors, .pub-item .venue { color: var(--muted); font-size: .95rem; }

    footer { padding: 2rem 0 3rem; border-top: 1px solid var(--border); margin-top: 2rem; }
    .socials { display: flex; gap: .8rem; flex-wrap: wrap; }
    .badge { border: 1px solid var(--border); background: var(--card); padding: .35rem .6rem; border-radius: 999px; font-size: .9rem; }

    @media (max-width: 700px) {
      .hero-inner { grid-template-columns: 1fr; text-align: center; }
      .actions { justify-content: center; }
      .brand span { display: none; }
    }

    @media (prefers-reduced-motion: reduce) {
      * { transition: none !important; }
      .btn:hover { transform: none; }
    }
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header>
    <div class="container nav">
      <div class="brand">
        <!-- ‚úÖ Updated header avatar to your photo -->
        <img src="assets/profile.jpeg" alt="Profile" width="28" height="28" loading="lazy" decoding="async" />
        <span>Ravi Satyappa Dabbanavar</span>
      </div>
      <nav class="nav-links" aria-label="Primary">
        <a href="#about">About</a>
        <a href="#education">Education</a>
        <a href="#research">Research</a>
        <a href="#publications">Publications</a>
        <a href="#conferences">Conferences</a>
        <a href="#projects">Projects</a>
        <a href="#teaching">Teaching</a>
        <a href="#awards">Awards</a>
        <a href="#experience">Experience</a>
        <a href="#skills">Skills</a>
        <a href="#contact">Contact</a>
        <button class="theme-btn" id="themeToggle" aria-label="Toggle dark mode" aria-pressed="false">üåó</button>
      </nav>
    </div>
  </header>

  <main id="main" class="container">
    <!-- Hero / Intro -->
    <section class="hero" id="home">
      <div class="hero-inner">
        <!-- ‚úÖ Updated hero photo to your photo -->
        <img class="avatar"
             src="assets/profile.jpg"
             alt="Portrait of Ravi Satyappa Dabbanavar"
             width="140" height="140"
             decoding="async" fetchpriority="high" />
        <div>
          <h1>Ravi Satyappa Dabbanavar</h1>
          <div class="subtitle">Ph.D. Scholar (IV Year, II Semester) ¬∑ Department of Architecture & Planning ¬∑ IIT Roorkee</div>
          <div class="actions">
            <a class="btn primary" href="#publications">View Publications</a>
            <a class="btn" href="assets/Ravi_cv.docx" download>Download CV</a>
            <a class="btn" href="https://scholar.google.com/scholar?q=Ravi+Satyappa+Dabbanavar" target="_blank" rel="noopener noreferrer">Google Scholar</a>
          </div>
        </div>
      </div>
    </section>

    <!-- About -->
    <section id="about">
      <h2 class="section-title">About</h2>
      <div class="stack">
        <p>
          I am a <strong>Ph.D. Scholar</strong> (Integrated PG + Ph.D.) at the <strong>Department of Architecture & Planning</strong>, <strong>Indian Institute of Technology Roorkee</strong>.
          My areas of interest include <em>Urban & Rural Planning</em>, <em>Land-Use Planning</em>, and <em>Transport Planning</em>.
        </p>
        <p class="muted">Email me for collaborations in urban analytics, remote sensing, and user-generated big-data for land-use studies.</p>
      </div>
    </section>

    <!-- Education -->
    <section id="education">
      <h2 class="section-title">Education</h2>
      <ul>
        <li><strong>Ph.D. Scholar (Integrated PG + Ph.D.)</strong>, IIT Roorkee ‚Äî <em>Pursuing</em> ¬∑ IV Year, II Semester</li>
        <li><strong>Postgraduate (PG)</strong>, IIT Roorkee ‚Äî CGPA: 8.700</li>
        <li><strong>Graduate (UG)</strong>, School of Planning and Architecture, Vijayawada (2020) ‚Äî CGPA: 7.140</li>
        <li><strong>Intermediate (Class XII)</strong>, Narayana PU College, Bengaluru (2015) ‚Äî 75.60%</li>
      </ul>
    </section>

    <!-- Research -->
    <section id="research">
      <h2 class="section-title">Research</h2>
      <div class="grid">
        <article class="card">
          <h3>Urban Land-Use Classification from Multisource Data</h3>
          <p class="meta">2023‚Äîpresent ¬∑ IIT Roorkee</p>
          <p>Integrating satellite imagery and user-generated POI data with topic modeling and deep learning to improve urban functional zone mapping.</p>
        </article>
        <article class="card">
          <h3>Housing Satisfaction & Disaster Resilience</h3>
          <p class="meta">2024 ¬∑ Uttarakhand</p>
          <p>Evaluating PMAY-Urban‚Äôs contribution to socio-economic outcomes and resilience metrics across Uttarakhand districts.</p>
        </article>
      </div>
    </section>

    <!-- Publications -->
    <section id="publications" aria-live="polite">
      <h2 class="section-title">Publications</h2>
      <div class="pub-toolbar">
        <label for="pubSearch" class="visually-hidden" style="position:absolute;left:-9999px;">Search publications</label>
        <input id="pubSearch" class="search" type="search" placeholder="Search publications (title, author, venue, year)‚Ä¶" aria-label="Search publications" />
        <span id="pubCount" class="muted"></span>
      </div>
      <ol id="pubList" class="pub-list"></ol>
      <details class="muted" style="margin-top:.5rem"><summary>How to edit this list</summary>
        <p>Edit the <code>publications</code> array in the inline script below.</p>
      </details>
    </section>

    <!-- Conferences & Workshops -->
    <section id="conferences">
      <h2 class="section-title">Conferences & Workshops</h2>
      <ul>
        <li><strong>EGU General Assembly</strong>, Apr 27 ‚Äì May 2, 2025, Vienna ‚Äî ‚ÄúIntegrating User-Generated POI Data and Satellite Imagery for Enhanced Urban Land Use Classification: A Topic Modeling Approach‚Äù ‚Äî <a href="https://doi.org/10.5194/egusphere-egu25-8380" target="_blank" rel="noopener noreferrer">DOI</a></li>
        <li><strong>AI and the City</strong>, Jan 4‚Äì5, 2025, Bengaluru ‚Äî ‚ÄúA Unified Data Integration Approach for Improved Urban Land Use Classification‚Äù</li>
        <li><strong>National Workshop (ICSSR-supported)</strong>, Feb 2024, IIT Roorkee ‚Äî ‚ÄúEvaluating PMAY-Urban‚Äôs contribution in Uplifting Housing Satisfaction, Socio-economic Conditions and Improving Disaster Resilience in Uttarakhand‚Äù</li>
        <li><strong>ILUS ‚Äî International Land Use Symposium</strong>, Oct 2023, CEPT University, Ahmedabad ‚Äî ‚ÄúA Review of Essential Urban Land Use Techniques: The Role of Remote Sensing and User Generated Big Data‚Äù</li>
        <li><strong>Workshop (British Council funded)</strong>, May 2022, IIT Roorkee ‚Äî ‚ÄúRethinking urban planning pedagogy to address future challenges of Urbanization‚Äù</li>
      </ul>
    </section>

    <!-- Projects -->
    <section id="projects">
      <h2 class="section-title">Selected Projects</h2>
      <div class="grid">
        <article class="card">
          <h3>Urban Land-Use Mapping Toolkit</h3>
          <p class="meta">2025 ¬∑ Python, GIS</p>
          <p>Prototype toolkit for integrating POI data and satellite imagery for functional zone mapping and evaluation.</p>
        </article>
        <article class="card">
          <h3>Transport Accessibility Dashboard</h3>
          <p class="meta">2024 ¬∑ Power BI, QGIS</p>
          <p>Interactive dashboard for multi-modal accessibility analysis in urban neighborhoods.</p>
        </article>
        <article class="card">
          <h3>PMAY-U Impact Study</h3>
          <p class="meta">2024 ¬∑ Field + Analytics</p>
          <p>Data collection and analysis to measure housing satisfaction and resilience improvements.</p>
        </article>
      </div>
    </section>

    <!-- Awards -->
    <section id="awards">
      <h2 class="section-title">Awards & Achievements</h2>
      <ul>
        <li>Best 25 Poster submissions ‚Äî Mission Amrit Sarovar, Jal Dharohar Sanrakshan Internship (2022)</li>
        <li>Best 25 Photography submissions ‚Äî Mission Amrit Sarovar, Jal Dharohar Sanrakshan Internship (2022)</li>
        <li>Recipient ‚Äî Going Online as Leaders (GOAL) Program (2020)</li>
        <li>AR GATE 2020</li>
      </ul>
    </section>

    <!-- Experience -->
    <section id="experience">
      <h2 class="section-title">Experience (Internships)</h2>
      <ul>
        <li><strong>Tamil Nadu Institute of Urban Studies, Coimbatore</strong> ‚Äî Summer Internship (Jun‚ÄìJul 2018) ¬∑ GIS handbook for town-planning officials (TN)</li>
        <li><strong>Urban Box Consultancy, Gorakhpur</strong> ‚Äî Summer Internship (Jun‚ÄìJul 2019) ¬∑ Drainage & sanitation plan for Gorakhpur (UP)</li>
        <li><strong>Mission Amrit Sarovar ‚Äî Jal Dharohar Sanrakshan Internship (AICTE)</strong> (Jul‚ÄìAug 2022) ¬∑ Rejuvenation & re-imagination strategy for Lake Mist, Mussoorie, Uttarakhand</li>
      </ul>
    </section>

    <!-- Teaching -->
    <section id="teaching">
      <h2 class="section-title">Teaching</h2>
      <ul>
        <li><strong>TA ‚Äî ARN-651, Planning Studio (MURP)</strong>, Dept. of Architecture & Planning, IIT Roorkee ‚Äî Spring 2022</li>
        <li><strong>TA ‚Äî ARN-659, Housing (MURP)</strong>, Dept. of Architecture & Planning, IIT Roorkee ‚Äî Autumn 2023</li>
        <li><strong>TA ‚Äî ARN-656, Rural Planning & Development (MURP)</strong>, Dept. of Architecture & Planning, IIT Roorkee ‚Äî Spring 2024</li>
        <li><strong>TA ‚Äî ARC-627, GIS & Remote Sensing Techniques (MURP)</strong>, Dept. of Architecture & Planning, IIT Roorkee ‚Äî Autumn 2024</li>
        <li><strong>RA ‚Äî Teaching plan and ITPI matters</strong>, Dept. of Architecture & Planning, IIT Roorkee ‚Äî Autumn 2023‚ÄìPresent</li>
      </ul>
    </section>

    <!-- Skills -->
    <section id="skills">
      <h2 class="section-title">Skills</h2>
      <div class="grid">
        <div class="card">
          <h3>Programming</h3>
          <p>Python; C++ (Basic); Java (Basic)</p>
        </div>
        <div class="card">
          <h3>GIS & Tools</h3>
          <p>ArcGIS, QGIS, ERDAS</p>
        </div>
        <div class="card">
          <h3>Data & Productivity</h3>
          <p>MS Office, Power BI</p>
        </div>
        <div class="card">
          <h3>Languages</h3>
          <p>English, Kannada, Hindi, Telugu</p>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact">
      <h2 class="section-title">Contact</h2>
      <div class="grid">
        <div class="card">
          <h3>Email</h3>
          <p><a href="mailto:rs_dabbanavar@ar.iitr.ac.in">rs_dabbanavar@ar.iitr.ac.in</a></p>
        </div>
        <div class="card">
          <h3>Phone</h3>
          <p><a href="tel:+919108090740">+91 91080 90740</a></p>
        </div>
        <div class="card">
          <h3>Office</h3>
          <p>Dept. of Architecture & Planning, IIT Roorkee, Roorkee, Uttarakhand, India</p>
        </div>
        <div class="card">
          <h3>Social</h3>
          <p class="socials">
            <a class="badge" href="https://scholar.google.com/scholar?q=Ravi+Satyappa+Dabbanavar" target="_blank" rel="noopener noreferrer">Google Scholar</a>
            <a class="badge" href="https://orcid.org/0000-0002-0118-592X" target="_blank" rel="noopener noreferrer">ORCID</a>
          </p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container stack">
      <div class="muted">¬© <span id="year"></span> Ravi Satyappa Dabbanavar ¬∑ Last updated <time id="lastUpdated"></time></div>
      <div class="muted">This site is a single HTML file. Host it on GitHub Pages by pushing to a repo and enabling Pages in <em>Settings ‚Üí Pages</em>.</div>
    </div>
  </footer>

  <!-- JSON-LD Person Schema (‚úÖ adds your image for richer previews) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Ravi Satyappa Dabbanavar",
    "jobTitle": "Ph.D. Scholar",
    "affiliation": { "@type": "CollegeOrUniversity", "name": "Indian Institute of Technology Roorkee" },
    "email": "mailto:rs_dabbanavar@ar.iitr.ac.in",
    "url": "https://<your-username>.github.io/",
    "sameAs": ["https://orcid.org/0000-0002-0118-592X"],
    "image": "https://<your-username>.github.io/assets/profile.jpg"
  }
  </script>

  <script>
    // Theme: init + persist + meta theme-color sync + aria-pressed
    (function initTheme() {
      const metaLight = document.querySelector('meta[name="theme-color"][media*="light"]');
      const metaDark  = document.querySelector('meta[name="theme-color"][media*="dark"]');
      const saved = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const initial = saved || (prefersDark ? 'dark' : 'light');
      document.documentElement.setAttribute('data-theme', initial);
      const btn = document.getElementById('themeToggle');
      if (btn) btn.setAttribute('aria-pressed', initial === 'dark' ? 'true' : 'false');

      function updateMeta(which) {
        if (!metaLight || !metaDark) return;
        metaLight.setAttribute('content', '#ffffff'); // why: keeps address bar readable in light
        metaDark.setAttribute('content', '#0b0c0f'); // why: keeps address bar readable in dark
      }
      updateMeta(initial);

      document.getElementById('themeToggle').addEventListener('click', () => {
        const html = document.documentElement;
        const next = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        html.setAttribute('data-theme', next);
        localStorage.setItem('theme', next);
        document.getElementById('themeToggle').setAttribute('aria-pressed', next === 'dark' ? 'true' : 'false');
        updateMeta(next);
      });
    })();

    // Footer dates
    document.getElementById('year').textContent = new Date().getFullYear();
    document.getElementById('lastUpdated').textContent =
      new Date(document.lastModified).toLocaleDateString(undefined, { year: 'numeric', month: 'short' });

    // Publications data (EDIT ME)
    const publications = [
      {
        year: 2025,
        title: "Integrating Deep Learning and Natural Language Processing in Detailed Urban Land-Use Mapping: A Case Study of Mumbai",
        authors: ["R. S. Dabbanavar", "A. Biswas"],
        venue: "International Journal of Applied Earth Observation and Geoinformation (Under review)",
        links: { }
      },
      {
        year: 2024,
        title: "A Comparative Study of Topic Modelling Approaches for User-Generated Point of Interest Data",
        authors: ["R. S. Dabbanavar", "A. Biswas"],
        venue: "ICCAUA 2024 ‚Äî 7th International Conference of Contemporary Affairs in Architecture and Urbanism, Istanbul, Turkey",
        links: { doi: "10.38027/ICCAUA2024IN0334" }
      },
      {
        year: 2024,
        title: "Impact Assessment Study of Area Based Development Components in Indian Smart Cities",
        authors: ["A. Biswas et al."],
        venue: "Smart Cities Mission Management Unit (SCMMU), 2024",
        links: { }
      },
      {
        year: 2024,
        title: "A Review of Essential Urban Land Use Mapping Techniques: The Role of Remote Sensing and User-generated Big Data",
        authors: ["R. S. Dabbanavar", "A. Biswas"],
        venue: "Urban Technology (Under review)",
        links: { }
      },
      {
        year: 2024,
        title: "Exploring Urban Functional Zone Mapping Using Supervised Topic Modeling for User-Generated Big Data in Mumbai City",
        authors: ["R. S. Dabbanavar", "A. Biswas"],
        venue: "Applied Geography (Under review)",
        links: { }
      }
    ];

    // Render publications grouped by year + search
    const listEl = document.getElementById('pubList');
    const countEl = document.getElementById('pubCount');
    const totalCount = publications.length;

    function renderPublications(items) {
      listEl.innerHTML = '';
      const byYear = items.reduce((acc, p) => {
        (acc[p.year] ||= []).push(p); return acc;
      }, {});
      const years = Object.keys(byYear).map(Number).sort((a, b) => b - a);

      let rendered = 0;
      if (years.length === 0) {
        const li = document.createElement('li');
        li.className = 'pub-item';
        li.textContent = 'No publications match your search.';
        listEl.appendChild(li);
      } else {
        for (const y of years) {
          const yearGroup = document.createElement('li');
          yearGroup.className = 'pub-item';
          const header = document.createElement('div');
          header.className = 'meta';
          header.textContent = y;
          yearGroup.appendChild(header);

          const groupList = document.createElement('ol');
          groupList.style.marginTop = '.5rem';
          groupList.style.paddingLeft = '1rem';

          for (const p of byYear[y]) {
            rendered++;
            const li = document.createElement('li');
            li.style.marginBottom = '.5rem';

            const title = document.createElement('div');
            title.className = 'title';
            title.textContent = p.title;

            const authors = document.createElement('div');
            authors.className = 'authors';
            authors.textContent = p.authors.join(', ');

            const venue = document.createElement('div');
            venue.className = 'venue';
            venue.textContent = p.venue;

            const links = document.createElement('div');
            links.className = 'meta';
            if (p.links) {
              const entries = Object.entries(p.links).filter(([,v]) => !!v);
              for (const [k, v] of entries) {
                const a = document.createElement('a');
                a.href = v.startsWith('http') || v.startsWith('#') ? v : `https://doi.org/${v}`;
                a.target = v.startsWith('#') ? '' : '_blank';
                a.rel = v.startsWith('#') ? '' : 'noopener noreferrer';
                a.textContent = k.toUpperCase();
                a.style.marginRight = '.6rem';
                links.appendChild(a);
              }
            }

            li.appendChild(title);
            li.appendChild(authors);
            li.appendChild(venue);
            if (links.childNodes.length) li.appendChild(links);
            groupList.appendChild(li);
          }

          yearGroup.appendChild(groupList);
          listEl.appendChild(yearGroup);
        }
      }
      const plural = totalCount === 1 ? 'item' : 'items';
      const suffix = items.length === totalCount ? '' : ` ¬∑ showing ${items.length} of ${totalCount}`;
      countEl.textContent = `${totalCount} ${plural}${suffix}`;
    }

    renderPublications(publications);

    document.getElementById('pubSearch').addEventListener('input', (e) => {
      const q = e.target.value.trim().toLowerCase();
      if (!q) return renderPublications(publications);
      const filtered = publications.filter(p =>
        (p.title + ' ' + p.venue + ' ' + String(p.year) + ' ' + p.authors.join(' ')).toLowerCase().includes(q)
      );
      renderPublications(filtered);
    });

    // Active section link highlight via IntersectionObserver
    (function navActive() {
      const links = [...document.querySelectorAll('.nav-links a[href^="#"]')];
      const map = new Map(links.map(a => [a.getAttribute('href').slice(1), a]));
      const obs = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const id = entry.target.id;
          const link = map.get(id);
          if (!link) return;
          if (entry.isIntersecting) {
            links.forEach(l => l.setAttribute('aria-current', 'false'));
            link.setAttribute('aria-current', 'true');
          }
        });
      }, { threshold: 0.5 });
      document.querySelectorAll('main section[id]').forEach(sec => obs.observe(sec));
    })();
  </script>
</body>
</html>
